<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุชุญุฏู ุงููุฑู โ ูุนูููุงุช ูุฏูู ููุฑุฉ ูุฏู!</title>
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>๐</text></svg>">
    <!-- Google Font: Tajawal -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="game-container">
        <!-- Control Buttons -->
        <div class="top-controls">
            <button class="control-btn" onclick="showEditor()" id="editBtn">โ๏ธ ุชุนุฏูู ุงูุฃุณุฆูุฉ</button>
            <button class="control-btn" onclick="toggleFullScreen()" id="fullscreenBtn">๐ผ๏ธ ููุก ุงูุดุงุดุฉ</button>
        </div>

        <!-- Introduction Screen -->
        <div class="screen active" id="introScreen">
            <h1 class="game-title" data-text="๐ฎ ุชุญุฏู ุงููุฑู ๐ฎ">๐ฎ ุชุญุฏู ุงููุฑู ๐ฎ</h1>
            <p class="subtitle">ูุนุจุฉ ูุนูููุงุช ุฌูุงุนูุฉ ููุชุนุฉ!</p>

            <div class="team-inputs">
                <div class="team-input">
                    <label for="teamA">ุงุณู ุงููุฑูู ุงูุฃูู:</label>
                    <input type="text" id="teamA" placeholder="ุงููุฑูู ุฃ" value="ุงููุฑูู ุฃ">
                </div>
                <div class="team-input">
                    <label for="teamB">ุงุณู ุงููุฑูู ุงูุซุงูู:</label>
                    <input type="text" id="teamB" placeholder="ุงููุฑูู ุจ" value="ุงููุฑูู ุจ">
                </div>
            </div>

            <button class="btn btn-primary" onclick="startGame()">ุงุจุฏุฃ ุงููุนุจ</button>
        </div>

        <!-- Instructions Screen -->
        <div class="screen" id="instructionsScreen">
            <h1 class="game-title">๐ ููููุฉ ุงููุนุจ</h1>

            <div class="instructions">
                <h2>ููุงุนุฏ ุงููุนุจุฉ:</h2>
                <ul>
                    <li>ุชุนุงูููุง ููุฑูู ููุฅุฌุงุจุฉ ุนูู ูู ุณุคุงู ูุนุงู!</li>
                    <li>ููู ุณุคุงู 30 ุซุงููุฉ ููุฅุฌุงุจุฉ.</li>
                    <li>ุงูุฅุฌุงุจุฉ ุงูุตุญูุญุฉ ุชููุญ ูุฑููู ููุทุฉ ูุงุญุฏุฉ.</li>
                    <li>ุงูุฅุฌุงุจุฉ ุงูุณุฑูุนุฉ (ุฃูู ูู 10 ุซูุงูู) ุชููุญ ููุทุฉ ุฅุถุงููุฉ!</li>
                    <li>ุงููุฑูู ุตุงุญุจ ุฃุนูู ููุงุท ูููุฒ ุจุงููุนุจุฉ.</li>
                    <li>ุงุณุชูุชุนูุง ุจุฃุฑุจุน ุฌููุงุช ูุชููุนุฉ: ุงูุฏูู ๐ุ ูุฑุฉ ุงููุฏู โฝุ ุงูุฃูุบุงุฒ โุ ูุงูุณุฑุนุฉ ๐.</li>
                </ul>
            </div>

            <button class="btn btn-success" onclick="showInstructions()">ูููุชุ ููุจุฏุฃ!</button>
        </div>

        <!-- Game Screen -->
        <div class="screen" id="gameScreen">
            <div class="game-header">
                <div class="round-indicator" id="roundIndicator">
                    <span id="roundIcon">๐</span>
                    <span id="roundName">ุฌููุฉ ุงูุฏูู</span>
                </div>
                <div class="timer-container">
                    <div class="timer-circle" id="timerCircle" style="--progress: 0deg;">
                        <span id="timerText">30</span>
                    </div>
                </div>
            </div>

            <div class="score-board">
                <div class="team-score" id="teamAScore">
                    <h3 id="teamAName">ุงููุฑูู ุฃ</h3>
                    <div class="score" id="teamAScoreValue">0</div>
                </div>
                <div class="team-score" id="teamBScore">
                    <h3 id="teamBName">ุงููุฑูู ุจ</h3>
                    <div class="score" id="teamBScoreValue">0</div>
                </div>
            </div>

            <div class="question-container">
                <div class="question-text" id="questionText">
                    ุฌุงุฑู ุชุญููู ุงูุณุคุงู...
                </div>
                <div class="options-container" id="optionsContainer">
                    <!-- Options will be dynamically generated -->
                </div>
            </div>

            <button class="btn btn-warning hidden" id="nextQuestionBtn" onclick="nextQuestion()">ุงูุณุคุงู ุงูุชุงูู</button>
        </div>

        <!-- Results Screen -->
        <div class="screen" id="resultsScreen">
            <div class="results-container">
                <h1 class="winner-announcement" id="winnerAnnouncement">๐ ุงููุฑูู ุงููุงุฆุฒ ูู...! ๐</h1>

                <div class="final-scores">
                    <div class="final-score-card leaderboard-entry" id="teamALeaderboard">
                        <h3 id="finalTeamAName">ุงููุฑูู ุฃ</h3>
                        <div class="final-score" id="finalTeamAScore">0</div>
                        <div class="rank-badge" id="teamARank"></div>
                    </div>
                    <div class="final-score-card leaderboard-entry" id="teamBLeaderboard">
                        <h3 id="finalTeamBName">ุงููุฑูู ุจ</h3>
                        <div class="final-score" id="finalTeamBScore">0</div>
                        <div class="rank-badge" id="teamBRank"></div>
                    </div>
                </div>

                <div class="game-stats" id="gameStats">
                    <h3>๐ ุฅุญุตุงุฆูุงุช ุงููุนุจุฉ</h3>
                    <div class="stats-grid">
                        <div class="stat-item">
                            <span class="stat-label">ุฅุฌุงุจุงุช ุตุญูุญุฉ:</span>
                            <span class="stat-value" id="correctAnswers">0</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">ูุชูุณุท ุงูุณุฑุนุฉ:</span>
                            <span class="stat-value" id="averageTime">0 ุซุงููุฉ</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">ุฃูุถู ุฌููุฉ:</span>
                            <span class="stat-value" id="bestRound">-</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">ุฅุฌุงุจุงุช ุณุฑูุนุฉ:</span>
                            <span class="stat-value" id="quickAnswers">0</span>
                        </div>
                    </div>
                </div>

                <div class="leaderboard-section" id="leaderboardSection">
                    <div class="leaderboard-header">
                        <h3>๐ ููุญุฉ ุงูุตุฏุงุฑุฉ</h3>
                        <button class="btn-clear" onclick="clearLeaderboard()">๐๏ธ ูุณุญ ุงูุณุฌู</button>
                    </div>
                    <div class="leaderboard-list" id="leaderboardList">
                        <!-- Leaderboard entries will be added dynamically -->
                    </div>
                </div>

                <div class="results-actions">
                    <button class="btn btn-primary" onclick="resetGame()">ูุนุจ ูุฑุฉ ุฃุฎุฑู</button>
                    <button class="btn btn-success" onclick="saveToLeaderboard()">ุญูุธ ุงููุชูุฌุฉ</button>
                </div>
            </div>
        </div>

        <!-- Question Editor Screen -->
        <div class="screen" id="editorScreen">
            <!-- (Content remains the same as previous version) -->
             <div class="editor-container">
                <h1 class="game-title">โ๏ธ ูุญุฑุฑ ุงูุฃุณุฆูุฉ</h1>
                <div class="editor-tabs">
                    <button class="editor-tab active" onclick="showEditorCategory('countries', this)">๐ ุงูุฏูู</button>
                    <button class="editor-tab" onclick="showEditorCategory('football', this)">โฝ ูุฑุฉ ุงููุฏู</button>
                    <button class="editor-tab" onclick="showEditorCategory('puzzles', this)">โ ุงูุฃูุบุงุฒ</button>
                    <button class="editor-tab" onclick="showEditorCategory('speed', this)">๐ ุงูุณุฑุนุฉ</button>
                </div>
                <div class="editor-content">
                    <div class="question-form">
                        <div class="form-group"><label for="questionTextInput">ูุต ุงูุณุคุงู:</label><input type="text" id="questionTextInput" placeholder="ุงูุชุจ ุงูุณุคุงู ููุง..."></div>
                        <div class="form-group"><label>ุงูุฎูุงุฑุงุช:</label><div class="options-form"><input type="text" id="option1Input" placeholder="ุงูุฎูุงุฑ ุงูุฃูู"><input type="text" id="option2Input" placeholder="ุงูุฎูุงุฑ ุงูุซุงูู"><input type="text" id="option3Input" placeholder="ุงูุฎูุงุฑ ุงูุซุงูุซ"><input type="text" id="option4Input" placeholder="ุงูุฎูุงุฑ ุงูุฑุงุจุน"></div></div>
                        <div class="form-group"><label for="correctAnswerSelect">ุงูุฅุฌุงุจุฉ ุงูุตุญูุญุฉ:</label><select id="correctAnswerSelect"><option value="0">ุงูุฎูุงุฑ ุงูุฃูู</option><option value="1">ุงูุฎูุงุฑ ุงูุซุงูู</option><option value="2">ุงูุฎูุงุฑ ุงูุซุงูุซ</option><option value="3">ุงูุฎูุงุฑ ุงูุฑุงุจุน</option></select></div>
                        <div class="editor-actions"><button class="btn btn-success btn-small" onclick="saveQuestion()">ุญูุธ ุงูุณุคุงู</button><button class="btn btn-primary btn-small" onclick="addNewQuestion()">ุณุคุงู ุฌุฏูุฏ</button><button class="btn btn-danger btn-small" onclick="deleteQuestion()">ุญุฐู ุงูุณุคุงู</button></div>
                    </div>
                    <div class="question-list-container"><h4>ูุงุฆูุฉ ุงูุฃุณุฆูุฉ ุงูุญุงููุฉ</h4><div class="question-list" id="questionList"></div></div>
                </div>
                <div class="editor-footer-actions"><button class="btn btn-secondary" onclick="resetToDefault()">ุงุณุชุนุงุฏุฉ ุงูุงูุชุฑุงุถู</button><button class="btn btn-secondary" onclick="exportQuestions()">ุชุตุฏูุฑ</button><button class="btn btn-secondary" onclick="importQuestions()">ุงุณุชูุฑุงุฏ</button><button class="btn btn-primary" onclick="backToGame()">ุงูุนูุฏุฉ ููุนุจุฉ</button></div>
            </div>
        </div>
    </div>

    <!-- Particle layer for visual effects -->
    <div class="particle-container" id="particleLayer" aria-hidden="true"></div>

    <!-- Load external JavaScript files -->
    <script src="questions.js"></script>
    <script src="game.js"></script>
</body>
</html>